<!DOCTYPE html>
<html>
<head>
    <title>Sign up your kid for school</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="form-container">
        <h2>Sign up your kid for school</h2>
        <form id="candidateForm">
            <div class="form-group">
                <label for="name">Full Name:</label>
                <input type="text" id="name" name="name">
            </div>

            <div class="form-group">
                <label for="middleName">Middle Name (Optional):</label>
                <input type="text" id="middleName" name="middleName">
            </div>

            <div class="form-group">
                <label for="dob">Date of Birth:</label>
                <input type="date" id="dob" name="dob">
            </div>

            <button type="submit">Continue</button>
        </form>
    </div>

    <script>
        document.getElementById('candidateForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            const name = document.getElementById('name').value.trim(); // Trim whitespace
            const dob = document.getElementById('dob').value;
            const dobDate = new Date(dob);
            const cutoffDate = new Date('2019-08-01');

            const nameWords = name.split(' ').filter(word => word !== ''); // Split into words, remove empty strings

            if (!name && dob) {
                window.close();
            } else {
                if (!name) {
                    alert('Please enter your full name.');
                } else if (nameWords.length < 2) {
                     alert('Please enter your full name as two words (first name and last name).');
                } else if (!dob) {
                     alert('Please enter your date of birth.');
                } else if (dobDate > cutoffDate) {
                     alert('Date of birth must be before August 1, 2019.');
                } else {
                     alert('Your kid was successfully registered');
                }
	    }
        });
    </script>
</body>
</html>
